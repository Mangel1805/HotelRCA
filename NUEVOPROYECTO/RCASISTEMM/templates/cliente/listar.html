
{% extends "base.html" %}
{% block content %}
<h1>Todos los Clientes</h1>
<span class="label label-default">Lista de Clientes</span>
<div class="well">
 		<div class="btn-toolbar" role="toolbar">   
 		 	<div class="col-lg-6" >
               	<a href="{% url 'crearCliente'  %}">
				<button type="button" class="btn btn-danger" name='btnAgregar'onclick="">Agregar</button>
                </a>
				<button type="button" class="btn btn-danger" name='btnActualizar' onclick="obtener('editar')">Actualizar</button>
              	<button type="button" class="btn btn-danger" name='btnEliminar' onclick="obtener('eliminar')">Eliminar</button>
 
                <a href="{% url 'listarCliente'  %}">
                <button name="btnReporte" type="button" class="btn btn-danger">Reporte</button>   </a>
             </div>   
            <div class="col-lg-6" > 
     	 		 <form method="POST" action="/cliente/buscar/">{% csrf_token %}
				
		    		  <div class="input-group">
		     			   <input type="text" class="form-control" placeholder="Ingrese el cliente a buscar" name="buscalo">
		       				 <span class="input-group-btn">
		        				  <button class="btn btn-default" type="submit" >Buscar</button>
		       						 </span>
		       			</div>
		    
		   		 </form>
		    </div>
     	  
     	  	
        </div>    	 

</div>    	
	<div class="table-responsive">
		<table class="table table-bordered table-hover">
	        <thead>
	          <tr>
	            <td class="success">#</td>
	            <td class="success">CEDULA</td>
	            <td class="success">NOMBRE</td>
	            <td class="success">APELLIDO</td>
	            <td class="success">TELEFONO</td>
	            <td class="success">DIRECCION</td>
	            <td class="success">EMAIL</td>
	            <td class="success">Ocupacion</td>
	            <td class="success">ESTADO</td>
	            <td class="success">CIUDAD</td>
	          </tr>
	        </thead>
	        <tbody >
	   
	         
	          <!-- Aplicadas en las celdas (<td> o <th>) -->
		          {% for cliente in  clientes %}
			          <tr id="row{{cliente.id}}" class="active">
			          	<td >{{cliente.id}}</td>
		          		<td ><a href="javascript:cargarDatos({{cliente.id}})">{{cliente.cedula}}</a></td>
			            <td >{{cliente.nombre}}</td>
			            <td >{{cliente.apellido}}</td>
			            <td >{{cliente.telefono}}</td>
			            <td >{{cliente.direccion}}</d>
			            <td >{{cliente.email}}</td>
			            <td >{{cliente.ocupacion}}</td>
			            <td >{{cliente.estado}}</td>
			            <td >{{cliente.ciudad}}</td>
			          	
			           
			          </tr>
		          {% endfor %}
	      	</tbody>
		</table>
		<input type="hidden" type="text" name="obtener_id" id="obtener_id" value=""/>
	</div>
   <!--  <ul>
		{% for cliente in  clientes %}
  			<li><b>Cedula</b>{{cliente.cli_cedula}}</li>
			<li><b>Nombre</b>{{cliente.cli_nombre}}</li>
			<li><b>Apellido</b>{{cliente.cli_apellido}}</li>
			<li><b>Direccion</b>{{cliente.cli_direccion}}</li>

		{% endfor %}
	</ul>-->
</div>
</div>

{% endblock content %}
{%block js%}
  
	<script type="text/javascript">
		function cargarDatos(id) {
			document.getElementById('obtener_id').value = document.getElementById('row'+id).cells[0].innerHTML;
		}
	</script>

	<script type="text/javascript">
		function obtener(tipo) {
			if(tipo=='editar'){
				if(document.getElementById("obtener_id").value==''){
					
				}
				else{
					window.open("/cliente/modificar/"+document.getElementById("obtener_id").value,"_self");
				}
				
			}
			if(tipo=='eliminar'){
				if(document.getElementById("obtener_id").value==''){
					
				}else{
					window.open("/cliente/eliminar/"+document.getElementById("obtener_id").value,"_self");
				}
			}
		}
</script>
{%endblock js%}